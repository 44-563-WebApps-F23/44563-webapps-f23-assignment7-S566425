<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

        <title>Play with Bootstrap</title>
        <style>
            #locations{
                color:white;
                background-color: black;
            }
            #penalty{
                background-color:plum
            }
            #help{
                background-color: lavender;
                color:green;
            }
        </style>
    </head>
    <body>
        <h2>Find the treasure by Sri Vasavi</h2>
        <p>Click on the locations to search for treasure, beware the traps</p>
        <p id ="locations">Number of locations checked is zero</p>
        <p id="penalty">Penality is zero</p>
        <p type="button" id="click" onclick="help()">Click for help</p>
        <p id="help">Help report</p>
        <p type="button" onclick="newGame()">New Game</p>

        <div class="flex-containers row">
            <div class="col-md-2" >
                <img src="location.jpg" width="100" height="100" id="img0" onclick="check(0)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100" id="img1" onclick="check(1)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"id="img2" onclick="check(2)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"  id="img3" onclick="check(3)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"id="img4" onclick="check(4)">
            </div>
        </div>
        <div class="flex-containers row">
            <div class="col-md-2">
                <img src="location.jpg" width="100" height="100" id="img5" onclick="check(5)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"id="img6" onclick="check(6)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"id="img7" onclick="check(7)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"id="img8" onclick="check(8)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100"id="img9" onclick="check(9)">
            </div>
        </div>
        <div class="flex-containers row">
            <div class="col-md-2">
                <img src="location.jpg" width="100" height="100"id="img10" onclick="check(10)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100" id="img11"onclick="check(11)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"id="img12" onclick="check(12)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100" id="img13"onclick="check(13)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100"id="img14" onclick="check(14)">
            </div>
        </div>
        <div class="flex-containers row">
            <div class="col-md-2" >
                <img src="location.jpg" width="100" height="100" id="img15"onclick="check(15)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100" id="img16"onclick="check(16)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100" id="img17" onclick="check(17)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100" id="img18"onclick="check(18)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100"id="img19" onclick="check(19)">
            </div>
        </div>
        <div class="flex-containers row">
            <div class="col-md-2">
                <img src="location.jpg" width="100" height="100"id="img20" onclick="check(20)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100" id="img21"onclick="check(21)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"id="img22" onclick="check(22)">
            </div>
            <div class="col-md-2">
                <img src="location.jpg"width="100" height="100"id="img23" onclick="check(23)">
            </div>
            <div class="col-md-2" >
                <img src="location.jpg"width="100" height="100"id="img24" onclick="check(24)">
            </div>
        </div>
        <script>
            let ids=["img0", "img1", "img2", "img3", "img4",
                    "img5", "img6", "img7", "img8", "img9",
                    "img10", "img11", "img12", "img13", "img14",
                    "img15", "img16", "img17", "img18", "img19",
                    "img20", "img21", "img22", "img23", "img24"];
            let checkCount=0;
            var penalty=0;
            let lastCheck=0;
            let treasureLocation=5;
            let trapLocation=18;
            let gameOver=false;
            function check(position){
                if(gameOver)
                {
                    return;
                }
                var id=ids[position];

                if(position == treasureLocation){
                    document.getElementById(id).src="treasure.jpg";
                    gameOver=true;
                    penalty-=3;;
                    
                    
                }
                else if(position==trapLocation){
                    document.getElementById(id).src="trap.jpg";
                    gameOver=true;
                    penalty+=4;

                }
                else{
                    document.getElementById(id).src="hat.jpg";
                }
                checkCount++;
                penalty++;
                document.getElementById("locations").innerHTML = `Number of Locations Checked is ${checkCount}`;
                document.getElementById("penalty").innerHTML = `Penalty is ${penalty}`;
                lastCheck=position;

            }
            function help(){

                let col = treasureLocation%5;
                let row = Math.round(treasureLocation/5);
                let lastcol = lastCheck%5;
                let lastrow = Math.round(lastCheck/5);
                
                let rdif=Math.abs(lastrow-row);
                let cdiff=Math.abs(lastcol-col);
                let dif=Math.abs(rdif-cdiff)
                if(rdif==0 || cdiff==0 && dif==1){
                    document.getElementById("help").textContent = "Can smell it";
                }
                else if(rdif+cdiff==2){
                    document.getElementById("help").textContent = "Close matier";
                }
                else{
                    document.getElementById("help").textContent = "Step faster";
                }
                penalty=penalty+2;
                document.getElementById("penalty").textContent=`Penalty is ${penalty}`;

            }

            function newGame(){
                treasureLocation = Math.floor(Math.random() * 25);
                trapLocation = Math.floor(Math.random() * 25);
                for( i=0; i<24; i++){
                    if(i === trapLocation){
                        document.getElementById(ids[i]).src = "trap.jpg";
                    }
                    else if(i === treasureLocation){
                        document.getElementById(ids[i]).src = "treasure.jpg";
                    }
                    else{
                        document.getElementById(ids[i]).src = "location.jpg";
                    }
                }
            }
    
            document.getElementById("locations").innerHTML = `Number of locations checked is  ${checkCount}`;
            document.getElementById("penalty").innerHTML = `Penalty is ${penalty}`;

        </script>
    </body>
</html>